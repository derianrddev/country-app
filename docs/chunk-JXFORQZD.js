import{A as a,B as f,C as d,D as R,E as _,F as w,G as Y,H as ee,I as F,J as y,K as P,L as te,M as ie,Q as ne,S as oe,T as re,U as O,V as x,W as M,Y as ae,a as A,b as U,c as q,d as H,e as b,f as z,g as L,h as Z,i as g,j as T,k as J,l as G,m as K,n as W,o as B,p as s,q as h,r as u,s as m,t as o,u as i,v as p,w as Q,x as I,y as C,z as X}from"./chunk-FJFUZSK7.js";var v=(()=>{let e=class e{constructor(n){this.http=n,this.apiUrl="https://restcountries.com/v3.1",this.cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{region:"",countries:[]}},this.loadFromLocalStorage()}saveToLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}loadFromLocalStorage(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}getCountriesRequest(n){return this.http.get(n).pipe(q(()=>A([])))}searchCountryByAlphaCode(n){let r=`${this.apiUrl}/alpha/${n}`;return this.getCountriesRequest(r).pipe(U(c=>c.length>0?c[0]:null))}searchCapital(n){let r=`${this.apiUrl}/capital/${n}`;return this.getCountriesRequest(r).pipe(b(c=>this.cacheStore.byCapital={term:n,countries:c}),b(()=>this.saveToLocalStorage()))}searchCountry(n){let r=`${this.apiUrl}/name/${n}`;return this.getCountriesRequest(r).pipe(b(c=>this.cacheStore.byCountries={term:n,countries:c}),b(()=>this.saveToLocalStorage()))}searchRegion(n){let r=`${this.apiUrl}/region/${n}`;return this.getCountriesRequest(r).pipe(b(c=>this.cacheStore.byRegion={region:n,countries:c}),b(()=>this.saveToLocalStorage()))}};e.\u0275fac=function(r){return new(r||e)(Z(ie))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ue=t=>["/countries/by",t];function fe(t,e){t&1&&(o(0,"div",2),K(),o(1,"svg",3),p(2,"path",4),i(),W(),o(3,"span",5),a(4,"Info"),i(),o(5,"div")(6,"span",6),a(7,"Warning alert!"),i(),a(8," There are no countries to show. "),i()())}function ge(t,e){if(t&1&&(o(0,"tr",12)(1,"td",13),a(2),i(),o(3,"td",13),a(4),i(),o(5,"td",13),p(6,"img",14),i(),o(7,"th",15),a(8),i(),o(9,"td",13),a(10),i(),o(11,"td",13),a(12),_(13,"number"),i(),o(14,"td",16)(15,"a",17),a(16,"Info"),i()()()),t&2){let l=e.$implicit,n=e.index;s(2),d(" ",n+1," "),s(2),d(" ",l.flag," "),s(2),m("src",l.flags.svg,B)("alt",l.name.common),s(2),d(" ",l.name.common," "),s(2),d(" ",l.capital," "),s(2),d(" ",w(13,8,l.population)," "),s(3),m("routerLink",R(10,ue,l.cca3))}}function he(t,e){if(t&1&&(o(0,"div",7)(1,"table",8)(2,"thead",9)(3,"tr")(4,"th",10),a(5," # "),i(),o(6,"th",10),a(7," Icon "),i(),o(8,"th",10),a(9," Flag "),i(),o(10,"th",10),a(11," Name "),i(),o(12,"th",10),a(13," Capital "),i(),o(14,"th",10),a(15," Population "),i(),p(16,"th",10),i()(),o(17,"tbody"),u(18,ge,17,12,"tr",11),i()()()),t&2){let l=C();s(18),m("ngForOf",l.countries)}}var E=(()=>{let e=class e{constructor(){this.countries=[]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=g({type:e,selectors:[["countries-country-table"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[["table",""],["class","flex items-center p-4 mb-4 text-sm text-yellow-800 rounded-lg bg-yellow-50","role","alert",4,"ngIf","ngIfElse"],["role","alert",1,"flex","items-center","p-4","mb-4","text-sm","text-yellow-800","rounded-lg","bg-yellow-50"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"flex-shrink-0","inline","w-4","h-4","me-3"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"sr-only"],[1,"font-medium"],[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg","mb-4","mx-4","xl:mx-8"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50"],["scope","col",1,"px-6","py-3"],["class","bg-white border-b hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"bg-white","border-b","hover:bg-gray-50"],[1,"px-6","py-4"],[3,"src","alt"],["scope","row",1,"px-6","py-4","font-medium","text-gray-900","whitespace-nowrap"],[1,"px-6","py-4","text-right"],[1,"font-medium","text-blue-600","hover:underline",3,"routerLink"]],template:function(r,c){if(r&1&&u(0,fe,9,0,"div",1)(1,he,19,1,"ng-template",null,0,Y),r&2){let j=X(2);m("ngIf",c.countries.length===0)("ngIfElse",j)}},dependencies:[F,y,re,P],styles:["img[_ngcontent-%COMP%]{width:25px}"]});let t=e;return t})();function xe(t,e){t&1&&p(0,"shared-loading-spinner",6)}var se=(()=>{let e=class e{constructor(n){this.countriesService=n,this.countries=[],this.isLoading=!1,this.initialValue=""}ngOnInit(){this.countries=this.countriesService.cacheStore.byCapital.countries,this.initialValue=this.countriesService.cacheStore.byCapital.term}searchByCapital(n){this.isLoading=!0,this.countriesService.searchCapital(n).subscribe(r=>{this.countries=r,this.isLoading=!1})}};e.\u0275fac=function(r){return new(r||e)(h(v))},e.\u0275cmp=g({type:e,selectors:[["countries-by-capital-page"]],decls:7,vars:3,consts:[[1,"text-2xl","font-semibold","text-center"],[1,"flex","justify-center"],[1,"basis-full","sm:basis-1/2","mx-4"],["placeholder","Search by capital",3,"onDebounce","initialValue"],["title","Looking for capital",4,"ngIf"],[3,"countries"],["title","Looking for capital"]],template:function(r,c){r&1&&(o(0,"h2",0),a(1,"By Capital"),i(),o(2,"div",1)(3,"div",2)(4,"shared-search-box",3),I("onDebounce",function(N){return c.searchByCapital(N)}),i()()(),u(5,xe,1,0,"shared-loading-spinner",4),p(6,"countries-country-table",5)),r&2&&(s(4),m("initialValue",c.initialValue),s(),m("ngIf",c.isLoading),s(),m("countries",c.countries))},dependencies:[y,x,M,E],encapsulation:2});let t=e;return t})();function ve(t,e){t&1&&p(0,"shared-loading-spinner",6)}var le=(()=>{let e=class e{constructor(n){this.countriesService=n,this.countries=[],this.isLoading=!1,this.initialValue=""}ngOnInit(){this.countries=this.countriesService.cacheStore.byCountries.countries,this.initialValue=this.countriesService.cacheStore.byCountries.term}searchByCountry(n){this.isLoading=!0,this.countriesService.searchCountry(n).subscribe(r=>{this.countries=r,this.isLoading=!1})}};e.\u0275fac=function(r){return new(r||e)(h(v))},e.\u0275cmp=g({type:e,selectors:[["countries-by-country-page"]],decls:7,vars:3,consts:[[1,"text-2xl","font-semibold","text-center"],[1,"flex","justify-center"],[1,"basis-1/2"],["placeholder","Search by country",3,"onDebounce","initialValue"],["title","Looking for country",4,"ngIf"],[3,"countries"],["title","Looking for country"]],template:function(r,c){r&1&&(o(0,"h2",0),a(1,"By Country"),i(),o(2,"div",1)(3,"div",2)(4,"shared-search-box",3),I("onDebounce",function(N){return c.searchByCountry(N)}),i()()(),u(5,ve,1,0,"shared-loading-spinner",4),p(6,"countries-country-table",5)),r&2&&(s(4),m("initialValue",c.initialValue),s(),m("ngIf",c.isLoading),s(),m("countries",c.countries))},dependencies:[y,x,M,E],encapsulation:2});let t=e;return t})();var be=t=>({"z-10 ring-2 ring-blue-700 text-blue-700":t});function Ce(t,e){if(t&1){let l=Q();o(0,"button",7),I("click",function(){let r=J(l).$implicit,c=C();return G(c.searchByRegion(r))}),a(1),i()}if(t&2){let l=e.$implicit,n=C();m("ngClass",R(2,be,n.selectedRegion===l)),s(),d(" ",l," ")}}function Se(t,e){t&1&&p(0,"shared-loading-spinner",8)}var ce=(()=>{let e=class e{constructor(n){this.countriesService=n,this.countries=[],this.regions=["Africa","Americas","Asia","Europe","Oceania","Antarctic"],this.isLoading=!1}ngOnInit(){this.countries=this.countriesService.cacheStore.byRegion.countries,this.selectedRegion=this.countriesService.cacheStore.byRegion.region}searchByRegion(n){this.selectedRegion=n,this.isLoading=!0,this.countriesService.searchRegion(n).subscribe(r=>{this.countries=r,this.isLoading=!1})}};e.\u0275fac=function(r){return new(r||e)(h(v))},e.\u0275cmp=g({type:e,selectors:[["countries-by-region-page"]],decls:8,vars:3,consts:[[1,"text-2xl","font-semibold","text-center"],[1,"flex","justify-center"],[1,"basis-full","text-center","m-4"],["role","group",1,"block","sm:inline-flex","rounded-md","shadow-sm"],["class","px-4 py-2 m-[1px] gap-1 text-sm font-medium text-gray-900 bg-white border border-gray-200 hover:bg-gray-100 hover:text-blue-700",3,"ngClass","click",4,"ngFor","ngForOf"],["title","Looking for region",4,"ngIf"],[3,"countries"],[1,"px-4","py-2","m-[1px]","gap-1","text-sm","font-medium","text-gray-900","bg-white","border","border-gray-200","hover:bg-gray-100","hover:text-blue-700",3,"click","ngClass"],["title","Looking for region"]],template:function(r,c){r&1&&(o(0,"h2",0),a(1,"By Region"),i(),o(2,"div",1)(3,"div",2)(4,"div",3),u(5,Ce,2,4,"button",4),i()()(),u(6,Se,1,0,"shared-loading-spinner",5),p(7,"countries-country-table",6)),r&2&&(s(5),m("ngForOf",c.regions),s(),m("ngIf",c.isLoading),s(),m("countries",c.countries))},dependencies:[ee,F,y,x,E],encapsulation:2});let t=e;return t})();function Ie(t,e){t&1&&p(0,"shared-loading-spinner",2)}function Ee(t,e){if(t&1&&(o(0,"div",3)(1,"div",4)(2,"div",5)(3,"h2",6),a(4),i()()(),o(5,"div",7)(6,"div",8)(7,"h3",9),a(8,"Flag"),i(),p(9,"img",10),i(),o(10,"div",11)(11,"h3",12),a(12,"Information"),i(),o(13,"ul",13)(14,"li",14)(15,"span",15),a(16,"Population:"),i(),a(17),_(18,"number"),i(),o(19,"li",14)(20,"span",15),a(21,"Capital:"),i(),a(22),i(),o(23,"li",14)(24,"span",15),a(25,"Area:"),i(),a(26),_(27,"number"),o(28,"sup",16),a(29,"2"),i()(),o(30,"li",14)(31,"span",15),a(32,"Code:"),i(),a(33),i()()()(),o(34,"div",17)(35,"div",18)(36,"h3",12),a(37,"Translations"),i(),o(38,"div",19)(39,"span",20),a(40),i(),o(41,"span",20),a(42),i(),o(43,"span",20),a(44),i(),o(45,"span",20),a(46),i(),o(47,"span",20),a(48),i(),o(49,"span",20),a(50),i(),o(51,"span",20),a(52),i(),o(53,"span",20),a(54),i(),o(55,"span",20),a(56),i(),o(57,"span",20),a(58),i()()()()()),t&2){let l=C();s(4),f(l.country.name.common),s(5),m("src",l.country.flags.svg,B)("alt",l.country.name.common),s(8),d(" ",w(18,17,l.country.population)," "),s(5),d(" ",l.country.capital," "),s(4),d(" ",w(27,19,l.country.area)," Km"),s(7),d(" ",l.country.cca3," "),s(7),f(l.country.translations.ara.common),s(2),f(l.country.translations.bre.common),s(2),f(l.country.translations.ces.common),s(2),f(l.country.translations.cym.common),s(2),f(l.country.translations.deu.common),s(2),f(l.country.translations.est.common),s(2),f(l.country.translations.fin.common),s(2),f(l.country.translations.ita.common),s(2),f(l.country.translations.kor.common),s(2),f(l.country.translations.per.common)}}var me=(()=>{let e=class e{constructor(n,r,c){this.activatedRoute=n,this.router=r,this.countriesService=c,this.isLoading=!0}ngOnInit(){this.activatedRoute.params.pipe(H(({code:n})=>this.countriesService.searchCountryByAlphaCode(n))).subscribe(n=>n?(this.isLoading=!1,this.country=n):this.router.navigateByUrl(""))}};e.\u0275fac=function(r){return new(r||e)(h(ne),h(oe),h(v))},e.\u0275cmp=g({type:e,selectors:[["countries-country-page"]],decls:2,vars:2,consts:[["title","Looking for country",4,"ngIf"],["class","mx-8",4,"ngIf"],["title","Looking for country"],[1,"mx-8"],[1,"flex"],[1,"basis-full","mb-4"],[1,"text-2xl","font-semibold","text-center"],[1,"flex","gap-4","justify-center"],[1,"basis-1/3"],[1,"text-xl","font-semibold","mb-4"],[1,"h-auto","max-w-full","rounded-lg",3,"src","alt"],[1,"basis-2/3"],[1,"text-xl","font-semibold"],[1,"max-w-xs","flex","flex-col","divide-y","divide-gray-200"],[1,"inline-flex","items-center","gap-x-2","py-3","text-sm","font-medium","text-gray-800"],[1,"font-semibold"],[1,"text-xs","-ml-2"],[1,"flex","mt-2"],[1,"col"],[1,"d-flex","flex-wrap"],[1,"bg-blue-100","text-blue-800","text-xs","font-medium","me-2","px-2.5","py-0.5","rounded"]],template:function(r,c){r&1&&u(0,Ie,1,0,"shared-loading-spinner",0)(1,Ee,59,21,"div",1),r&2&&(m("ngIf",c.isLoading),s(),m("ngIf",c.country))},dependencies:[y,x,P],encapsulation:2});let t=e;return t})();var _e=[{path:"by-capital",component:se},{path:"by-country",component:le},{path:"by-region",component:ce},{path:"by/:code",component:me},{path:"**",redirectTo:"by-capital"}],pe=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=T({type:e}),e.\u0275inj=L({imports:[O.forChild(_e),O]});let t=e;return t})();var Xe=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=T({type:e}),e.\u0275inj=L({imports:[te,pe,ae]});let t=e;return t})();export{Xe as CountriesModule};
